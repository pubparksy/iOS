<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로그인</title>
    <!-- <script src="/login.js"></script> -->
    <!-- app.use(express.static('public')) 해서 절대 경로 전부 안 적어도 됨 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <style>
        .form-signin {
            max-width: 450px;
            padding: 1rem;
        }
    </style>
</head>
<body class="d-flex align-items-center py-4 bg-body-tertiary">

        <div class="form-signin w-100 m-auto">

            <h2>로그인</h2>
            <form action="login" method="post" id="login">
                <div class="mb-3 row">
                    <label for="email"  class="col-sm-3 col-form-label">이메일</label>
                    <div class="col-sm-9">
                        <input type="text" name="email" id="email" class="form-control">
                    </div>
                </div>
                <div class="mb-3 row">
                    <label for="password"  class="col-sm-3 col-form-label">비밀번호</label>
                    <div class="col-sm-9">
                        <input type="password" name="password" id="password" class="form-control">
                    </div>
                </div>
                <button class="btn btn-primary w-100 py-2" type="submit" onclick="loginChk(); return false;">로그인</button>
                <div>
                    <a class="btn w-100" href="register" style="text-decoration: none;" >회원가입</a>
                </div>
            </form>

        </div>
        
</body>

<script type="text/javascript">

// onclick Event return false;
// 태그에 대한 click 이벤트 적용시 href 속성 때문에 js 함수 호출 후 페이지 이동 현상 발생

function loginChk() {
    // let msgElement = document.querySelector("#msg");
    const email = document.getElementById('email').value;
    const password = document.getElementById('password').value;

    let isEmail = (email == null || email == "") ? false : true ;
    let isPw =  (password == null || password == "") ? false : true ;

    if(!isEmail || !isPw) {
        if(!isEmail) {
            alert("이메일을 정확히 입력해주세요");
            document.getElementById('email').focus();
            return false;
        } else if(!isPw) {
            alert("비밀번호를 정확히 입력해주세요");
            document.getElementById('password').focus(); 
            return false;
        }
    }
     else {
        document.forms["login"].submit();
    }
}
</script>
</html>